pre-commit:
  parallel: true
  commands:
    ai-skills-consistency:
      run: bash ./scripts/ai/warn-skill-consistency.sh
    gitleaks:
      run: gitleaks protect --staged --no-banner --redact
    nixfmt:
      glob: "*.nix"
      run: nixfmt --check {staged_files}
    shellcheck:
      glob: "*.sh"
      run: shellcheck -S warning {staged_files}

pre-push:
  commands:
    flake-check:
      run: nix flake check --no-build --all-systems
